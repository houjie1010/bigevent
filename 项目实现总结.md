# 1.项目准备

mac    先打开终端 

​		复制initcode文件，新建文件夹bigevent把复制的文件放进去就可以开始操作了

**`问题点`**

`错误提示：fatal: remote origin already exists.（致命：远程原点已经存在。）`

`解决：initcode不能直接复制整个文件夹，需要复制该文件里面的相关文件不能直接将整个文件夹复制否则会出错：因为该文件夹老师已经初始化并进行相关操作，直接复制会有冲突）`

​		**1.本地仓库初始化**



​		cd空格 拖拽文件到终端  回车（在此文件下做git初始化，并提交初始代码）

​		git init 回车

​		ls  -a 查看目录

​		git status 第一次提交

​		git add . 打包文件

​		打包完成后git commit -m"初始化"回车

第一次提交初始化完成

git log查看状态



**2.建立github远程仓库**



去github上建立一个与本地代码库同名的仓库

复制以下代码把本地仓库代码推到远程仓库

git remote add origin https://github.com/houjie1010/bigevent.git

git push -u origin master



**3.启动后端服务器**



# 2.页面功能实现

**1.用户登录**

​			需求：

​			点击登录按钮跳转到主页

​			找到退出接口，测接口

​			实现：

​					给登录按钮注册点击事件

​						找到登录按钮给按钮添加类名注册事件

​					1.获取用户信息，进行简单判断（用户输入内容是否为空）

​					找到用户名和密码输入框定义类名，定义变量获取用户信息,去空格

​					判断用户输入的数据是否为空

​					2.请求ajax接口，根据接口的反馈做后续的动作

​					3.跳转到主页

​					4.登陆语义话

**`问题点：接口地址错误，导致无法登陆成功	`**

**2.用户退出**

​			需求：

​				点击退出退回登陆页面

​				实现：

​		找到退出接口，测接口	

​				找到退出按钮,阻止a标签跳转,给a标签添加类名注册点击事件事件退出

​			请求退出接口	

​			判断是否退出成功

​			退出语义话，调用

提交本地，远程



**3.获取用户信息**

​		需求：

​				获取用户信息：用户名，头像

​		实现：

​		找到获取用户信息接口，测接口

​		找到用户名信息，给用户名添加表情添加类名用于获取用户信息

​		找到用户头像信息，

**`4.用户登陆退出模块优化`**

需求：

优化基地址，接口地址，解决地址重复和需要修改的问题

实现：

单独新建一个文件夹，作为用户模块的优化

新建一个js文件，将接口基地址和接口信息保存上以便日后有问题查找修改

```js
//配置文件
//定义一个变量 把项目 所有用到的接口地址放在这里
//定义一个对象保存所有接口的基地址,以便更改
var BASEURL = 'http://192.168.1.110:8000'
//定义一个对象 保存接口信息
var APILIST = {
    user_login: BASEURL + '/admin/login',
    user_logout: BASEURL + '/admin/logout',
    user_getInfo: BASEURL + '/admin/getuser'
}
```

新建一个js文件，解决接口地址重复问题

```js
    //用户模块优化
    var user = {
        login: function(name, password) {
            //2. 请求ajax接口， 根据接口的反馈做后续的动作
            //$.post(url,数据).then(回调)
            //接口地址优化
            //('http://192.168.1.110:8000/admin/login) 
            $.post(APILIST.user_login, {
                    user_name: name,
                    password: password
                },
                function(res) {
                    if (res.code === 200) {
                        // alert('登录成功') //测试
                        // 跳到主页
                        window.location.href = "./index.html"
                    } else {
                        //失败，提示错别信息
                        alert(res.msg)
                    }
                }
            )
        },
        //用户退出语义话
        logout: function() {
            //请求退出接口
            //接口地址优化
            //('http://192.168.1.110:8000/admin/logout') 
            $.post(APILIST.user_logout).then(function(res) {
                console.log(res);
                //判断是否退出成功
                if (res.code === 200) {
                    alert('成功退出')
                    window.location.href = "./login.html"
                } else {
                    alert(res.msg)
                }
            })
        },
         // //获取用户信息语义话
        // getInfo: function() {
        //     //接口地址优化
        //     //('http://192.168.1.110:8000/admin/getuser') 
        // $.get(APILIST.user_getInfo).then(function(res){
        //         console.log(res);
        //         //判断
        //         if (res.code === 200) {
        //             //获取用户名信息
        //             $('#userName').text(res.data.nickname)
        //                 //获取用户头像
        //             $('.userImg').attr('src', res.data.user_pic)
        //         }
        //     })
        // }
       //获取用户信息语义话
        getInfo: function() {
            return $.get(APILIST.user_getInfo)
        }
    }
```



对应的html页面引入js文件完成优化

**5.文章管理**

​	文章类别管理

​			需求：

​						1.从后端接口把文章分类取出来显示在页面上

**`问题点：each循环 data 错写成date，导致文章列表未显示`**

​			实现:

​					测接口

​					获取数据

​					新建一个模块，定义对象实现类别模块各项功能

​					显示数据

​					把数据取出来之后，模版字符串拼接，模版引擎渲染数据并显示

​	`模版引擎使用步骤(重点)`

```js					
1.引入template-web.js文件（该文件会提供template函数）
2.定义数据对象
3.定义模版结构，注意制定script的id和type属性（type="text/html"）
4.调用template函数，为模版引擎分配数据，获得渲染结果，格式如下:

		html字符串=template（模版id，数据对象）
```

​	2.新增／删除／编辑

2.1新增

​	需求：

​			点击新增按钮弹出模态框，收集用户信息，非空判断，

​			发请求，根据反馈做后续动作

实现：

​		给添加按钮注册点击事件

​		收集用户信息，去空格

​		非空判断

​		发请求，调用新增方法

判断：

​		添加成功：

​				清空用户信息

​				隐藏模态框

​		给关闭按钮注册点击事件

​		点击关闭按钮，隐藏模态框

​		获取新数据（封装函数，调用）

2.2 删除

需求：

​		点击删除按钮删除当前列表分类

实现：

​		给删除添加点击事件， 事件委托

​        使用自定义属性获取id值

​        请求接口，根据反馈做后续动作

​					在模块中添加删除方法

​					接口文档中添加删除的接口

​					调用接口

​		判断是否删除成功

​		删除成功，重新获取数据，调函数

2.3 编辑

需求：

​		点击编辑按钮，弹窗显示当前文章分类模态框

​		新增一个模态框用来做编辑功能

实现：

​		用事件委托给编辑按钮注册点击事件

​		取出当前要编辑的内容

​		给模态框中的input设置值(当前要编辑的内容)	

​		弹出新添加的模态框

​		点击保存按钮，实现修改

​				给保存按钮注册点击事件,事件委托

​				添加一个id输入框获取id值，设置为隐藏，为了禁止用户输入（隐藏input框   hidden的好处，页面不可见，仍然支持dom操作）

​            	收集用户信息，去空格

​				非空判断

​           	发送请求，调接口，

​				判断是否编辑成功

​							编辑成功

​									隐藏模态框

​									重新获取新数据

​	`问题点:该关闭按钮与新增功能的关闭按钮类名重复导致一直未出效果`

​			点击关闭按钮，隐藏模态框

